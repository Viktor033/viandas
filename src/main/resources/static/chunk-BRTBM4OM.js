import{a as N,b as I,c as W,d as F,e as B,f as z,g as j,i as D,j as U}from"./chunk-S6O7TW77.js";import{c as H,d as q}from"./chunk-ODPXNCJ7.js";import{A as S,E as v,H as h,I as E,J as n,K as o,L as p,M as P,N as g,O as m,P as r,Q as u,R as y,T as C,U as _,V as b,a as O,d as G,fa as k,ga as V,ka as A,l as w,ma as T,o as f,q as l,r as s,x as c}from"./chunk-QD7O345G.js";var L=(()=>{class a{http=f(T);apiUrl="/api/cadetes";getCadetes(){return this.http.get(this.apiUrl)}getCadete(e){return this.http.get(`${this.apiUrl}/${e}`)}createCadete(e){return this.http.post(this.apiUrl,e)}updateCadete(e,i){return this.http.put(`${this.apiUrl}/${e}`,i)}deleteCadete(e){return this.http.delete(`${this.apiUrl}/${e}`)}static \u0275fac=function(i){return new(i||a)};static \u0275prov=w({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var M=G(H());function $(a,x){if(a&1){let e=P();n(0,"tr")(1,"td"),r(2),o(),n(3,"td"),r(4),o(),n(5,"td"),r(6),o(),n(7,"td")(8,"span",9),r(9),o()(),n(10,"td",10)(11,"button",11),g("click",function(){let t=l(e).$implicit,d=m();return s(d.openModal(t))}),p(12,"i",12),o(),n(13,"button",13),g("click",function(){let t=l(e).$implicit,d=m();return s(d.deleteCadete(t.id))}),p(14,"i",14),o()()()}if(a&2){let e=x.$implicit;c(2),u(e.nombre),c(2),u(e.vehiculo),c(2),u(e.telefono),c(2),E("active",e.activo),c(),y(" ",e.activo?"Activo":"Inactivo"," ")}}function J(a,x){a&1&&(n(0,"tr")(1,"td",15),r(2,"No hay cadetes registrados"),o()())}function K(a,x){if(a&1){let e=P();n(0,"div",16),g("click",function(){l(e);let t=m();return s(t.closeModal())}),n(1,"div",17),g("click",function(t){return l(e),s(t.stopPropagation())}),n(2,"button",18),g("click",function(){l(e);let t=m();return s(t.closeModal())}),r(3,"\xD7"),o(),n(4,"h2"),r(5),o(),n(6,"form",19),g("ngSubmit",function(){l(e);let t=m();return s(t.saveCadete())}),n(7,"div",20)(8,"label"),r(9,"Nombre Completo"),o(),n(10,"input",21),b("ngModelChange",function(t){l(e);let d=m();return _(d.currentCadete.nombre,t)||(d.currentCadete.nombre=t),s(t)}),o()(),n(11,"div",20)(12,"label"),r(13,"Veh\xEDculo"),o(),n(14,"input",22),b("ngModelChange",function(t){l(e);let d=m();return _(d.currentCadete.vehiculo,t)||(d.currentCadete.vehiculo=t),s(t)}),o()(),n(15,"div",20)(16,"label"),r(17,"Tel\xE9fono"),o(),n(18,"input",23),b("ngModelChange",function(t){l(e);let d=m();return _(d.currentCadete.telefono,t)||(d.currentCadete.telefono=t),s(t)}),o()(),n(19,"div",24)(20,"label")(21,"input",25),b("ngModelChange",function(t){l(e);let d=m();return _(d.currentCadete.activo,t)||(d.currentCadete.activo=t),s(t)}),o(),r(22," Cadete Activo (Disponible para repartos) "),o()(),n(23,"button",26),r(24,"Guardar"),o()()()()}if(a&2){let e=m();c(5),u(e.isEditing?"Editar Cadete":"Nuevo Cadete"),c(5),C("ngModel",e.currentCadete.nombre),c(4),C("ngModel",e.currentCadete.vehiculo),c(4),C("ngModel",e.currentCadete.telefono),c(3),C("ngModel",e.currentCadete.activo)}}var ce=(()=>{class a{cadeteService=f(L);cadetes=[];showModal=!1;isEditing=!1;currentCadete={nombre:"",vehiculo:"",telefono:"",activo:!0};ngOnInit(){this.loadCadetes()}loadCadetes(){this.cadeteService.getCadetes().subscribe({next:e=>this.cadetes=e,error:e=>console.error("Error cargando cadetes",e)})}openModal(e){e?(this.isEditing=!0,this.currentCadete=O({},e)):(this.isEditing=!1,this.resetForm()),this.showModal=!0}closeModal(){this.showModal=!1}resetForm(){this.currentCadete={nombre:"",vehiculo:"",telefono:"",activo:!0}}saveCadete(){this.isEditing&&this.currentCadete.id?this.cadeteService.updateCadete(this.currentCadete.id,this.currentCadete).subscribe({next:()=>{this.showSuccess("Cadete actualizado correctamente"),this.loadCadetes(),this.closeModal()},error:()=>this.showError("Error al actualizar cadete")}):this.cadeteService.createCadete(this.currentCadete).subscribe({next:()=>{this.showSuccess("Cadete creado correctamente"),this.loadCadetes(),this.closeModal()},error:()=>this.showError("Error al crear cadete")})}deleteCadete(e){M.default.fire({title:"\xBFEliminar Cadete?",text:"No podr\xE1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ff6b6b",cancelButtonColor:"#6c757d",confirmButtonText:"S\xED, eliminar",background:"#1a1a1a",color:"#f8edda"}).then(i=>{i.isConfirmed&&this.cadeteService.deleteCadete(e).subscribe({next:()=>{this.showSuccess("Cadete eliminado"),this.loadCadetes()},error:()=>this.showError("Error al eliminar")})})}showSuccess(e){M.default.fire({title:"\xC9xito",text:e,icon:"success",background:"#1a1a1a",color:"#f8edda",confirmButtonColor:"#edb110"})}showError(e){M.default.fire({title:"Error",text:e,icon:"error",background:"#1a1a1a",color:"#f8edda",confirmButtonColor:"#ff6b6b"})}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=S({type:a,selectors:[["app-admin-cadetes"]],decls:26,vars:3,consts:[[1,"dashboard-container"],[1,"header-section"],[1,"btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"table-responsive"],[1,"cadetes-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"status-badge"],[1,"actions-cell"],[1,"btn-icon","edit",3,"click"],[1,"fas","fa-edit"],[1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],["colspan","5",1,"empty-message"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[3,"ngSubmit"],[1,"form-group"],["name","nombre","required","","placeholder","Nombre del chofer",3,"ngModelChange","ngModel"],["name","vehiculo","required","","placeholder","Ej: Moto Honda 150cc",3,"ngModelChange","ngModel"],["name","telefono","required","","placeholder","Whatsapp de contacto",3,"ngModelChange","ngModel"],[1,"form-group","checkbox-group"],["type","checkbox","name","activo",3,"ngModelChange","ngModel"],["type","submit",1,"btn-submit"]],template:function(i,t){i&1&&(p(0,"app-navbar"),n(1,"div",0)(2,"div",1)(3,"h1"),r(4,"Gesti\xF3n de Cadetes"),o(),n(5,"button",2),g("click",function(){return t.openModal()}),p(6,"i",3),r(7," Nuevo Cadete "),o()(),n(8,"div",4)(9,"table",5)(10,"thead")(11,"tr")(12,"th"),r(13,"Nombre"),o(),n(14,"th"),r(15,"Veh\xEDculo"),o(),n(16,"th"),r(17,"Tel\xE9fono"),o(),n(18,"th"),r(19,"Estado"),o(),n(20,"th"),r(21,"Acciones"),o()()(),n(22,"tbody"),v(23,$,15,6,"tr",6)(24,J,3,0,"tr",7),o()()()(),v(25,K,25,5,"div",8)),i&2&&(c(23),h("ngForOf",t.cadetes),c(),h("ngIf",t.cadetes.length===0),c(),h("ngIf",t.showModal))},dependencies:[A,k,V,q,U,j,I,N,W,F,D,z,B],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:80px auto 0;color:#f8edda}.header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#edb110;text-transform:uppercase;letter-spacing:2px}.header-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#edb110;color:#0a332e;border:none;padding:.8rem 1.5rem;border-radius:8px;font-weight:700;cursor:pointer;transition:transform .2s}.header-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.table-responsive[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:12px;padding:1rem;backdrop-filter:blur(10px);border:1px solid rgba(237,177,16,.1)}.cadetes-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.cadetes-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .cadetes-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}.cadetes-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#edb110;text-transform:uppercase;font-size:.9rem}.cadetes-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:1rem}.cadetes-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.3rem .8rem;border-radius:20px;font-size:.8rem;background:#ffffff1a;color:#fff9}.cadetes-table[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#edb11033;color:#edb110;border:1px solid rgba(237,177,16,.4)}.cadetes-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{display:flex;gap:.5rem}.cadetes-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;border-radius:50%;transition:background .2s}.cadetes-table[_ngcontent-%COMP%]   .btn-icon.edit[_ngcontent-%COMP%]{color:#f8edda}.cadetes-table[_ngcontent-%COMP%]   .btn-icon.edit[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cadetes-table[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]{color:#ff6b6b}.cadetes-table[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]:hover{background:#ff6b6b1a}.cadetes-table[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;opacity:.6}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#1a1a1a;padding:2rem;border-radius:12px;width:90%;max-width:500px;border:1px solid #edb110;color:#f8edda;position:relative}.modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:none;border:none;color:#f8edda;font-size:1.5rem;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#edb110;margin-bottom:1.5rem;text-align:center}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#edb110;font-size:.9rem}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#f8edda;border-radius:6px}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#edb110}.modal-content[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer}.modal-content[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}.modal-content[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#edb110;color:#0a332e;border:none;border-radius:8px;font-weight:700;cursor:pointer;margin-top:1rem}.modal-content[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover{filter:brightness(1.1)}"]})}return a})();export{ce as AdminCadetesComponent};
